{"version":3,"file":"button.js","sources":["../../material/src/module/css.js","../../material/src/element/create.js","../../material/src/element/insert.js","../../material/src/component/classify.js","../../material/src/module/utils.js","../../material/src/element/style.js","../../material/src/element/offset.js","../../material/src/element/ripple.js","../../material/src/component/label.js","../../material/src/component/icon.js","../../material/src/module/emitter.js","../../material/src/button.js","../../material/src/component/controller.js","../src/button.js"],"sourcesContent":["/**\n * This function checks if the element className passed in parameters\n *\n * @since 0.0.6\n * @module css/has\n * @category Element\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} iteratee The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @see unzip, unzipWith, zip, zipObject, zipObjectDeep, zipWith\n * @example\n *\n * has(element, 'show');\n * // => [111, 222]\n */\nfunction has(element, className) {\n  if (!element || !className) {\n    return false\n  }\n\n  return !!element.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\n}\n\n/**\n * This function adds className to the element's attribute class\n *\n * @since 0.0.6\n * @module css/add\n * @category css\n * @param {HTMLElement} element Related element\n * @param {String} className the className to add\n *  grouped values.\n * @returns {HTMLElement} The augmented element\n * @example\n *\n * add(element, 'hidden');\n * // => <div class=\"element hidden\">...</div>\n */\nfunction add(element, className) {\n  if (!element || !className) {\n    return\n  }\n\n  let classNames = className.split(' ')\n\n  for (var i = 0; i < classNames.length; i++) {\n    var cn = classNames[i]\n    if (!has(element, cn)) {\n      element.classList.add(cn)\n    }\n  }\n  return element\n}\n\n/**\n * This function removes className to the element's attribute class\n *\n * @since 0.0.6\n * @module css/remove\n * @category css\n * @param {HTMLElement} element Related element\n * @param {String} className the className to add\n * @returns {HTMLElement} The element with the removed className\n * @example\n *\n * remove(element, 'hidden');\n * // => <div class=\"element\">...</div>\n */\nfunction remove(element, className) {\n  if (!element || !className) {\n    return\n  }\n\n  element.classList.remove(className)\n\n  return element\n}\n\n/**\n * This function toggles className from the element's attribute class\n *\n * @since 0.0.6\n * @module css/toggle\n * @category Element\n * @param {HTMLElement} element Related element\n * @param {String} className the className to add\n *  grouped values.\n * @returns {HTMLElement} The modified element\n * @example\n *\n * toggle(element, 'hidden');\n * // => <div class=\"element\">...</div>\n * toggle(element, 'hidden');\n * // => <div class=\"element hidden\">...</div>\n */\nfunction toggle(element, className) {\n  if (has(element, className)) {\n    remove(element, className)\n  } else {\n    add(element, className)\n  }\n\n  return element\n}\n\nexport default { has, add, remove, toggle }","import css from '../module/css'\n\nfunction create (tag, className) {\n  tag = tag || 'div'\n\n  var element = document.createElement(tag)\n  css.add(element, className)\n\n  return element\n}\n\nexport default create\n","'use strict'\n\n/**\n * insert element into dom\n * @param  {HTMLElement} element   [description]\n * @param  {HTMLElement} container [description]\n * @param  {string} context   [description]\n * @return {?}           [description]\n */\nfunction insert(element, container, context) {\n  if (!element || !container) return\n\n  element = element.wrapper || element\n  container = container.wrapper || container\n\n  context = context || 'bottom'\n\n  var contexts = ['top', 'bottom', 'after', 'before']\n  var methods = ['prepend', 'append', 'after', 'before']\n\n  var index = contexts.indexOf(context)\n  if (index === -1) {\n    return\n  }\n\n  switch (context) {\n    case 'top':\n      container.insertBefore(element, container.firstChild)\n      break\n    case 'bottom':\n      container.appendChild(element)\n      break\n    case 'after':\n      container.parentNode.insertBefore(element, container.nextSibling)\n      break\n    case 'before':\n      container.insertBefore(element, container)\n      break\n    default:\n      container.appendChild(element)\n  }\n\n  return element\n}\n\nexport default insert","import css from '../module/css'\n\n/**\n * Classify component related functions\n * @module component/classify\n * @category component\n */\n\n/**\n * Init component class\n * @param  {element} element The component wrapper element\n * @param  {object} options component class options\n * @return {Instance} The Class instance\n *\n */\nfunction classify (element, options) {\n  css.add(element, options.prefix + '-' + options.class)\n\n  if (options.name) {\n    css.add(element, options.class + '-' + options.name)\n  }\n\n  if (options.type) {\n    css.add(element, options.class + '-' + options.type)\n    css.add(element, 'type-' + options.type)\n  }\n\n  if (options.color) {\n    css.add(element, options.color + '-color')\n  }\n\n  if (options.css) {\n    css.add(element, options.css)\n  }\n\n  if (options.name) {\n    // console.log('name', options.name);\n    element.dataset.name = options.name\n  }\n\n  if (options.label) {\n    element.title = options.label\n  }\n\n  if (options.style) {\n    var styles = options.style.split(' ')\n    for (var i = 0; i < styles.length; i++) {\n      css.add(element, 'style-' + styles[i])\n    }\n  }\n}\n\nexport default classify\n","'use strict'\n\n/**\n * Utility functions\n * @module module/utils\n */\n\n/**\n * Checks if given value is an array\n * @param {*} object\n * @returns {boolean}\n * @private\n */\nfunction _isArray (object) {\n  return Object.prototype.toString.call(object) === '[object Array]'\n}\n\n/**\n * Checks if javascript object is plain object\n * @param {Object} object\n * @returns {*|boolean}\n * @private\n */\nfunction _isLiteralObject (object) {\n  return object && typeof object === 'object' && Object.getPrototypeOf(object) === Object.getPrototypeOf({})\n}\n\n/**\n * Checks if object is iterable\n * @param {Object} object\n * @returns {boolean}\n * @private\n */\nfunction _isIterable (object) {\n  var r = _isLiteralObject(object) ||\n    _isArray(object) ||\n    (typeof object === 'object' &&\n      object !== null &&\n      object.length !== undefined)\n\n  return r\n}\n\n/**\n *\n * @param {Object} object\n * @param {Function} callback\n * @private\n */\nfunction _each (object, callback) {\n  if (_isArray(object) || (typeof object === 'object' && object.length !== undefined)) {\n    for (var i = 0, l = object.length; i < l; i++) {\n      callback.apply(object[i], [object[i], i])\n    }\n    return\n  }\n\n  if (_isLiteralObject(object)) {\n    for (var key in object) {\n      callback.apply(object[key], [object[key], key])\n    }\n  }\n}\n\n/**\n * Array.indexOf support\n * @param {Array} array\n * @param {*} obj\n * @returns {number}\n * @private\n */\nfunction _indexOf (array, obj) {\n  if (Array.prototype.indexOf) {\n    return Array.prototype.indexOf.call(array, obj)\n  }\n  for (var i = 0, j = array.length; i < j; i++) {\n    if (array[i] === obj) {\n      return i\n    }\n  }\n  return -1\n}\n\nexport { _isArray, _isIterable, _isLiteralObject, _each, _indexOf }\n","/**\n * Element style related methods\n * @module component/style\n */\nimport {\n  _isIterable,\n  _isLiteralObject,\n  _isArray,\n  _each\n} from '../module/utils'\n\n/**\n * Gets element's computed style\n * @param {string} prop\n * @returns {*}\n * @private\n */\nfunction get (element, style) {\n  // console.log('get', element, style);\n  // get array of elements\n  if (_isArray(style)) {\n    var css = {}\n    for (var i in list) {\n      css[list[i]] = this.get(element, list[i])\n    }\n    return css\n  } else {\n    var computedStyle\n\n    if (typeof window.getComputedStyle === 'function') { // normal browsers\n      computedStyle = window.getComputedStyle(element)\n    } else if (typeof document.currentStyle !== undefined) { // other browsers\n      computedStyle = element.currentStyle\n    } else {\n      computedStyle = element.style\n    }\n\n    if (style) {\n      return computedStyle[style]\n    } else {\n      return computedStyle\n    }\n  }\n}\n\n/**\n * set element style\n * @param { ? } element [description]\n * @param {?} style   [description]\n */\nfunction set (element, style) {\n  if (_isIterable(element) && _isLiteralObject(style)) {\n    _each(element, function (e) {\n      set(e, style)\n    })\n    return element\n  }\n\n  if (_isLiteralObject(style)) {\n    // console.log('style', element, style);\n    for (var i in style) {\n      element.style[i] = style[i]\n    }\n    return style\n  }\n\n  return false\n}\n\nexport default { get, set }\n","'use strict'\n\n/**\n * Element style related methods\n * @module component/style\n */\nimport style from './style'\n\nfunction offset (element, prop) {\n  var rect = element.getBoundingClientRect()\n\n  var offset = {\n    top: Math.round(rect.top),\n    right: Math.round(rect.right),\n    bottom: Math.round(rect.bottom),\n    left: Math.round(rect.left),\n    width: rect.width ? Math.round(rect.width) : Math.round(element.offsetWidth),\n    height: rect.height ? Math.round(rect.height) : Math.round(element.offsetHeight)\n  }\n\n  // css width and height\n  if (offset.width <= 0) {\n    offset.width = parseFloat(style.get(element, 'width'))\n  }\n  if (offset.height <= 0) {\n    offset.height = parseFloat(style.get(element, 'height'))\n  }\n\n  if (prop) {\n    return offset[prop]\n  } else {\n    return offset\n  }\n}\n\nexport default offset\n","import create from '../element/create'\nimport insert from '../element/insert'\nimport offset from '../element/offset'\n\nconst defaults = {\n  transition: '.5s cubic-bezier(0.4, 0.0, 0.2, 1)',\n  opacity: ['1', '.3']\n}\n\n/**\n * show method\n * @param  {event} e The event related to the the touch\n * @param  {Object} coord\n * @return {void}\n */\nfunction ripple (e, params) {\n  var options = Object.assign({},\n    defaults, params || {})\n\n  // console.log('show', e);\n  var container = e.target\n  var offs = offset(container)\n\n  let ripple = create('div', 'material-ripple')\n  let end = coordinate(offs)\n  let initial = {\n    left: (e.offsetX || offs.width / 2) + 'px',\n    top: (e.offsetY || offs.height / 2) + 'px'\n  }\n\n  ripple.style.left = initial.left\n  ripple.style.top = initial.top\n  ripple.style.opacity = options.opacity[1]\n  ripple.style.transition = options.transition\n\n  insert(ripple, container, 'top')\n\n  setTimeout(() => {\n    // console.log('style coord', end);\n    ripple.style.left = end.left\n    ripple.style.top = end.top\n    ripple.style.width = end.size\n    ripple.style.height = end.size\n    ripple.style.opacity = options.opacity[1]\n  }, 1)\n\n  document.body.onmouseup = () => {\n    destroy(ripple)\n  }\n}\n\n/**\n * this method hides the given ripple\n * @return {Object} Size and position\n */\nfunction destroy (ripple) {\n  if (ripple.parentNode) { ripple.style.opacity = '0' }\n\n  document.body.onmouseup = null\n\n  setTimeout(() => {\n    if (ripple.parentNode) { ripple.parentNode.removeChild(ripple) }\n  }, 1000)\n}\n\n/**\n * Get ripple final coordinates\n * @return {Object} Size and position\n */\nfunction coordinate (offset) {\n  var size = offset.width\n  var top = -offset.height / 2\n\n  if (offset.width > offset.height) {\n    size = offset.width\n    top = -(offset.width - offset.height / 2)\n  } else if (offset.width < offset.height) {\n    size = offset.height\n    top = (offset.width - offset.height) / 2\n  }\n\n  return {\n    size: (size * 2) + 'px',\n    top: top + 'px',\n    left: (size / -2) + 'px'\n  }\n}\n\nexport default ripple\n","import create from '../element/create';\nimport insert from '../element/insert';\n\nconst prefix = 'material';\n\n/**\n * [initLabel description]\n * @return {?} [description]\n */\nfunction label(wrapper, text, options) {\n  text = text || null;\n\n  var prefix = options.class || options.prefix;\n\n  var label = create('label', prefix + '-label');\n  label.textContent = text;\n\n  insert(label, wrapper);\n}\n\nexport default label;","import create from '../element/create';\nimport insert from '../element/insert';\n\n/**\n * [_initIcon description]\n * @param  {string} type\n * @return {string}\n */\nfunction icon(wrapper, svg, options){\n  if (!svg || !wrapper) {\n    return;\n  }\n\n  var position = 'top';\n  if (options && options.type === 'text-icon') {\n    position = 'bottom';\n  }\n\n  var element = create('i', options.class + '-icon');\n  insert(element, wrapper, position);\n\n  element.innerHTML = svg;\n}\n\nexport default icon;","export default {\n  on (event, cb) {\n    this.event = this.event || {}\n    this.event[event] = this.event[event] || []\n    this.event[event].push(cb)\n    return this\n  },\n  off (event, cb) {\n    this.event = this.event || {}\n    if (event in this.event === false) return\n    this.event[event].splice(this.event[event].indexOf(cb), 1)\n    return this\n  },\n  emit (event /* , args... */) {\n    this.event = this.event || {}\n    if (event in this.event === false) return\n    for (var i = 0; i < this.event[event].length; i++) {\n      this.event[event][i].apply(this, Array.prototype.slice.call(arguments, 1))\n    }\n    return this\n  }\n}\n","'use strict'\n\nimport create from './element/create'\nimport insert from './element/insert'\nimport classify from './component/classify'\nimport ripple from './element/ripple'\nimport emitter from './module/emitter'\nimport label from './component/label'\nimport icon from './component/icon'\n\nconst defaults = {\n  prefix: 'material',\n  class: 'button',\n  tag: 'button'\n}\n\n/**\n * button function\n * @function\n * @since 0.0.1\n */\nconst button = (params) => {\n  // init options\n  const options = Object.assign({}, defaults, params || {})\n\n  // init vars\n  var text = options.label || options.text\n  var svg = options.icon\n  var disabled = options.disabled || false\n\n  // create button element and classify\n  var element = create(options.tag, options.prefix + '-' + options.class)\n  classify(element, options)\n\n  // create and insert label and icon\n  label(element, text, options)\n  icon(element, svg, options)\n\n  // insert into the container if exists\n  if (options.container) {\n    insert(element, options.container)\n  }\n\n  // public API\n  var api = {\n    wrapper: element,\n    insert: (container, context) => {\n      insert(element, container, context)\n      return api\n    },\n    disable: () => {\n\n    }\n  }\n\n  // augment api with emitter\n  Object.assign(api, emitter)\n\n  // event related functions and listeners\n  /**\n   * on element click\n   * @param  {event} e click event\n   * @return {void}\n   */\n  function click(e) {\n    e.preventDefault()\n\n    if (disabled === true) return\n    if (options.upload) return\n\n    api.emit('click', e)\n  }\n\n  /**\n   * on element mousedown\n   * @param  {event} e click event\n   * @return {void}\n   */\n  function mousedown(e) {\n    if (disabled === true) return\n    if (options.upload) return\n\n    ripple(e, options.ripple)\n  }\n\n  element.addEventListener('click', click)\n  element.addEventListener('mousedown', mousedown)\n\n  return api\n}\n\nexport default button","'use strict'\n\nlet instance = null\n\n/**\n *\n */\nclass Controller {\n  /**\n   * Setting up block level variable to store class state\n   * , set's to null by default.\n   * credits: http://amanvirk.me/singleton-classes-in-es6/\n   */\n  constructor () {\n    if (!instance) {\n      instance = this\n    }\n\n    this.components = this.components || []\n    this.component = this.component || {}\n\n    this.init()\n\n    return instance\n  }\n\n  init () {\n    this.subscribe('settings', (message) => {\n      // console.log('settings', message);\n      // this.setSettings(message.key, message.value);\n    })\n  }\n\n  // setSettings(key, value) {\n  //   var text = Cookies.get(key);\n\n  //   var current = {};\n\n  //   if (text) {\n  //     current = JSON.parse(text);\n  //   }\n\n  //   console.log('settings value', current, value);\n  //   //settings = [settings, value].reduce(Object.assign, {});\n  //   var settings = merge(current, value);\n\n  //   console.log('settings ' + key, settings);\n\n  //   Cookies.set(key, JSON.stringify(settings));\n\n  // }\n\n  // getSettings(key) {\n  //   var json = Cookies.get(key);\n\n  //   if (!json) {\n  //     return null;\n  //   }\n  //   var value = JSON.parse(json);\n\n  //   console.log('settings' + key, value);\n\n  //   return value;\n\n  // }\n\n  /**\n   * [register description]\n   * @param  {component} component [description]\n   * @return {Object} The class instance\n   */\n  register (component) {\n    this.components.push(component)\n\n    this.component[component.name] = this.component[component.name] || []\n\n    this.component[component.name].push(component)\n\n    return this\n  }\n\n  /**\n   * This method subscribes to a specific topic\n   * @param  {string}   topic\n   * @param  {Function} callback\n   * @return {boolean} true\n   */\n  subscribe (topic, callback) {\n    this._topics = this._topics || {}\n\n    // _log.debug('subscribe', topic);\n    if (!this._topics.hasOwnProperty(topic)) {\n      this._topics[topic] = []\n    }\n\n    this._topics[topic].push(callback)\n    return true\n  }\n\n  /**\n   * This method unsubscribes to a specific topic\n   * @param  {string}   topic\n   * @param  {Function} callback\n   * @return {boolean} true\n   */\n  unsunscribe (topic, callback) {\n    this._topics = this._topics || {}\n    // _log.debug('unsubscribe', topic);\n    if (!this._topics.hasOwnProperty(topic)) {\n      return false\n    }\n\n    for (var i = 0, len = this._topics[topic].length; i < len; i++) {\n      if (this._topics[topic][i] === callback) {\n        this._topics[topic].splice(i, 1)\n        return true\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * [publish description]\n   * @return {?} [description]\n   */\n  publish () {\n    this._topics = this._topics || {}\n\n    var args = Array.prototype.slice.call(arguments)\n    var topic = args.shift()\n    // _log.debug('publish', topic);\n    if (!this._topics.hasOwnProperty(topic)) {\n      return false\n    }\n\n    for (var i = 0, len = this._topics[topic].length; i < len; i++) {\n      this._topics[topic][i].apply(undefined, args)\n    }\n    return true\n  }\n}\n\nvar controller = new Controller()\n\nexport default controller\n","import {\n  button\n} from 'material'\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  var btn = button({ text: 'hello', type: 'raised', color: 'primary' }).insert(document.body)\n})"],"names":["has","element","className","match","RegExp","add","classNames","split","i","length","cn","classList","remove","toggle","tag","document","createElement","css","insert","container","context","wrapper","indexOf","insertBefore","firstChild","appendChild","parentNode","nextSibling","classify","options","prefix","class","name","type","color","dataset","label","title","style","styles","_isArray","object","Object","prototype","toString","call","_isLiteralObject","getPrototypeOf","_isIterable","undefined","_each","callback","l","apply","key","get","list","this","computedStyle","window","getComputedStyle","currentStyle","set","e","offset","prop","rect","getBoundingClientRect","top","Math","round","right","bottom","left","width","offsetWidth","height","offsetHeight","parseFloat","ripple","params","assign","defaults","target","offs","create","end","coordinate","initial","offsetX","offsetY","opacity","transition","setTimeout","size","body","onmouseup","destroy","removeChild","text","textContent","icon","svg","position","innerHTML","[object Object]","event","cb","push","splice","Array","slice","arguments","button","click","preventDefault","disabled","upload","api","emit","mousedown","disable","emitter","addEventListener","instance","Controller","components","component","init","subscribe","message","topic","_topics","hasOwnProperty","len","args","shift"],"mappings":"wBAgBA,SAASA,GAAIC,EAASC,GACpB,SAAKD,IAAYC,MAIRD,EAAQC,UAAUC,MAAM,GAAIC,QAAO,UAAYF,EAAY,YAkBtE,QAASG,GAAIJ,EAASC,GACpB,GAAKD,GAAYC,EAAjB,CAIA,GAAII,GAAaJ,EAAUK,MAAM,IAEjC,KAAK,GAAIC,GAAI,EAAGA,EAAIF,EAAWG,OAAQD,IAAK,CAC1C,GAAIE,GAAKJ,EAAWE,EACfR,GAAIC,EAASS,IAChBT,EAAQU,UAAUN,IAAIK,GAG1B,MAAOT,IAiBT,QAASW,GAAOX,EAASC,GACvB,GAAKD,GAAYC,EAMjB,MAFAD,GAAQU,UAAUC,OAAOV,GAElBD,EAoBT,QAASY,GAAOZ,EAASC,GAOvB,MANIF,GAAIC,EAASC,GACfU,EAAOX,EAASC,GAEhBG,EAAIJ,EAASC,GAGRD,kBCpGPa,EAAMA,GAAO,KAEb,IAAIb,GAAUc,SAASC,cAAcF,EAGrC,OAFAG,GAAIZ,IAAIJ,EAASC,GAEVD,ECCT,QAASiB,GAAOjB,EAASkB,EAAWC,GAClC,GAAKnB,GAAYkB,IAEjBlB,EAAUA,EAAQoB,SAAWpB,EAC7BkB,EAAYA,EAAUE,SAAWF,EAEjCC,EAAUA,GAAW,UAMN,KAJC,MAAO,SAAU,QAAS,UAGrBE,QAAQF,IAC7B,CAIA,OAAQA,GACN,IAAK,MACHD,EAAUI,aAAatB,EAASkB,EAAUK,WAC1C,MACF,KAAK,SACHL,EAAUM,YAAYxB,EACtB,MACF,KAAK,QACHkB,EAAUO,WAAWH,aAAatB,EAASkB,EAAUQ,YACrD,MACF,KAAK,SACHR,EAAUI,aAAatB,EAASkB,EAChC,MACF,SACEA,EAAUM,YAAYxB,GAG1B,MAAOA,IC3BT,QAAS2B,GAAU3B,EAAS4B,GA6B1B,GA5BAZ,EAAIZ,IAAIJ,EAAS4B,EAAQC,OAAS,IAAMD,EAAQE,OAE5CF,EAAQG,MACVf,EAAIZ,IAAIJ,EAAS4B,EAAQE,MAAQ,IAAMF,EAAQG,MAG7CH,EAAQI,OACVhB,EAAIZ,IAAIJ,EAAS4B,EAAQE,MAAQ,IAAMF,EAAQI,MAC/ChB,EAAIZ,IAAIJ,EAAS,QAAU4B,EAAQI,OAGjCJ,EAAQK,OACVjB,EAAIZ,IAAIJ,EAAS4B,EAAQK,MAAQ,UAG/BL,EAAQZ,KACVA,EAAIZ,IAAIJ,EAAS4B,EAAQZ,KAGvBY,EAAQG,OAEV/B,EAAQkC,QAAQH,KAAOH,EAAQG,MAG7BH,EAAQO,QACVnC,EAAQoC,MAAQR,EAAQO,OAGtBP,EAAQS,MAEV,IAAK,GADDC,GAASV,EAAQS,MAAM/B,MAAM,KACxBC,EAAI,EAAGA,EAAI+B,EAAO9B,OAAQD,IACjCS,EAAIZ,IAAIJ,EAAS,SAAWsC,EAAO/B,IClCzC,QAASgC,GAAUC,GACjB,MAAkD,mBAA3CC,OAAOC,UAAUC,SAASC,KAAKJ,GASxC,QAASK,GAAkBL,GACzB,MAAOA,IAA4B,gBAAXA,IAAuBC,OAAOK,eAAeN,KAAYC,OAAOK,mBAS1F,QAASC,GAAaP,GAOpB,MANQK,GAAiBL,IACvBD,EAASC,IACU,gBAAXA,IACK,OAAXA,OACkBQ,KAAlBR,EAAOhC,OAWb,QAASyC,GAAOT,EAAQU,GACtB,GAAIX,EAASC,IAA8B,gBAAXA,QAAyCQ,KAAlBR,EAAOhC,OAC5D,IAAK,GAAID,GAAI,EAAG4C,EAAIX,EAAOhC,OAAQD,EAAI4C,EAAG5C,IACxC2C,EAASE,MAAMZ,EAAOjC,IAAKiC,EAAOjC,GAAIA,QAK1C,IAAIsC,EAAiBL,GACnB,IAAK,GAAIa,KAAOb,GACdU,EAASE,MAAMZ,EAAOa,IAAOb,EAAOa,GAAMA,ICvDhD,QAaSC,GAAKtD,EAASqC,GAGrB,GAAIE,EAASF,GAAQ,CACnB,GAAIrB,KACJ,KAAK,GAAIT,KAAKgD,MACZvC,EAAIuC,KAAKhD,IAAMiD,KAAKF,IAAItD,EAASuD,KAAKhD,GAExC,OAAOS,GAEP,GAAIyC,EAUJ,OAPEA,GADqC,kBAA5BC,QAAOC,iBACAD,OAAOC,iBAAiB3D,OACEgD,WAA1BlC,UAAS8C,aACT5D,EAAQ4D,aAER5D,EAAQqC,MAGtBA,EACKoB,EAAcpB,GAEdoB,EAUb,QAASI,GAAK7D,EAASqC,GACrB,GAAIU,EAAY/C,IAAY6C,EAAiBR,GAI3C,MAHAY,GAAMjD,EAAS,SAAU8D,GACvBD,EAAIC,EAAGzB,KAEFrC,CAGT,IAAI6C,EAAiBR,GAAQ,CAE3B,IAAK,GAAI9B,KAAK8B,GACZrC,EAAQqC,MAAM9B,GAAK8B,EAAM9B,EAE3B,OAAO8B,GAGT,OAAO,EC5DT,QAES0B,GAAQ/D,EAASgE,GACxB,GAAIC,GAAOjE,EAAQkE,wBAEfH,GACFI,IAAKC,KAAKC,MAAMJ,EAAKE,KACrBG,MAAOF,KAAKC,MAAMJ,EAAKK,OACvBC,OAAQH,KAAKC,MAAMJ,EAAKM,QACxBC,KAAMJ,KAAKC,MAAMJ,EAAKO,MACtBC,MAAOR,EAAKQ,MAAQL,KAAKC,MAAMJ,EAAKQ,OAASL,KAAKC,MAAMrE,EAAQ0E,aAChEC,OAAQV,EAAKU,OAASP,KAAKC,MAAMJ,EAAKU,QAAUP,KAAKC,MAAMrE,EAAQ4E,cAWrE,OAPIb,GAAOU,OAAS,IAClBV,EAAOU,MAAQI,WAAWxC,EAAMiB,IAAItD,EAAS,WAE3C+D,EAAOY,QAAU,IACnBZ,EAAOY,OAASE,WAAWxC,EAAMiB,IAAItD,EAAS,YAG5CgE,EACKD,EAAOC,GAEPD,EChBX,QAASe,GAAQhB,EAAGiB,GAClB,GAAInD,GAAUa,OAAOuC,UACnBC,EAAUF,OAGR7D,EAAY4C,EAAEoB,OACdC,EAAOpB,EAAO7C,EAElB,IAAI4D,GAASM,EAAO,MAAO,mBACvBC,EAAMC,EAAWH,GACjBI,GACFf,MAAOV,EAAE0B,SAAWL,EAAKV,MAAQ,GAAK,KACtCN,KAAML,EAAE2B,SAAWN,EAAKR,OAAS,GAAK,KAGxCG,GAAOzC,MAAMmC,KAAOe,EAAQf,KAC5BM,EAAOzC,MAAM8B,IAAMoB,EAAQpB,IAC3BW,EAAOzC,MAAMqD,QAAU9D,EAAQ8D,QAAQ,GACvCZ,EAAOzC,MAAMsD,WAAa/D,EAAQ+D,WAElC1E,EAAO6D,EAAQ5D,EAAW,OAE1B0E,gBAEEd,EAAOzC,MAAMmC,KAAOa,EAAIb,IACxBM,GAAOzC,MAAM8B,IAAMkB,EAAIlB,GACvBW,GAAOzC,MAAMoC,MAAQY,EAAIQ,IACzBf,GAAOzC,MAAMsC,OAASU,EAAIQ,IAC1Bf,GAAOzC,MAAMqD,QAAU9D,EAAQ8D,QAAQ,IACtC,GAEH5E,SAASgF,KAAKC,gBACZC,EAAQlB,KAQZ,QAASkB,GAASlB,GACZA,EAAOrD,aAAcqD,EAAOzC,MAAMqD,QAAU,KAEhD5E,SAASgF,KAAKC,UAAY,KAE1BH,gBACMd,EAAOrD,YAAcqD,EAAOrD,WAAWwE,YAAYnB,IACtD,KAOL,QAASQ,GAAYvB,GACnB,GAAI8B,GAAO9B,EAAOU,MACdN,GAAOJ,EAAOY,OAAS,CAU3B,OARIZ,GAAOU,MAAQV,EAAOY,QACxBkB,EAAO9B,EAAOU,MACdN,IAAQJ,EAAOU,MAAQV,EAAOY,OAAS,IAC9BZ,EAAOU,MAAQV,EAAOY,SAC/BkB,EAAO9B,EAAOY,OACdR,GAAOJ,EAAOU,MAAQV,EAAOY,QAAU,IAIvCkB,KAAc,EAAPA,EAAY,KACnB1B,IAAKA,EAAM,KACXK,KAAOqB,GAAQ,EAAK,MC3ExB,QAAS1D,GAAMf,EAAS8E,EAAMtE,GAC5BsE,EAAOA,GAAQ,IAEf,IAEI/D,GAAQiD,EAAO,SAFNxD,EAAQE,OAASF,EAAQC,QAED,SACrCM,GAAMgE,YAAcD,EAEpBjF,EAAOkB,EAAOf,GCThB,QAASgF,GAAKhF,EAASiF,EAAKzE,GAC1B,GAAKyE,GAAQjF,EAAb,CAIA,GAAIkF,GAAW,KACX1E,IAA4B,cAAjBA,EAAQI,OACrBsE,EAAW,SAGb,IAAItG,GAAUoF,EAAO,IAAKxD,EAAQE,MAAQ,QAC1Cb,GAAOjB,EAASoB,EAASkF,GAEzBtG,EAAQuG,UAAYF,GTqFtB,OAAiBtG,IAAAA,EAAKK,IAAAA,EAAKO,OAAAA,EAAQC,OAAAA,MKrClB0C,IAAAA,EAAKO,IAAAA,EEjEtB,MAAMoB,IACJU,WAAY,qCACZD,SAAU,IAAK,MGNjB,QACEc,GAAIC,EAAOC,GAIT,MAHAlD,MAAKiD,MAAQjD,KAAKiD,UAClBjD,KAAKiD,MAAMA,GAASjD,KAAKiD,MAAMA,OAC/BjD,KAAKiD,MAAMA,GAAOE,KAAKD,GAChBlD,MAETgD,IAAKC,EAAOC,GAEV,GADAlD,KAAKiD,MAAQjD,KAAKiD,UACdA,IAASjD,MAAKiD,QAAU,EAE5B,MADAjD,MAAKiD,MAAMA,GAAOG,OAAOpD,KAAKiD,MAAMA,GAAOpF,QAAQqF,GAAK,GACjDlD,MAETgD,KAAMC,GAEJ,GADAjD,KAAKiD,MAAQjD,KAAKiD,UACdA,IAASjD,MAAKiD,QAAU,EAA5B,CACA,IAAK,GAAIlG,GAAI,EAAGA,EAAIiD,KAAKiD,MAAMA,GAAOjG,OAAQD,IAC5CiD,KAAKiD,MAAMA,GAAOlG,GAAG6C,MAAMI,KAAMqD,MAAMnE,UAAUoE,MAAMlE,KAAKmE,UAAW,GAEzE,OAAOvD,QCjBX,MAQMyB,IACJpD,OAAQ,WACRC,MAAO,SACPjB,IAAK,UAQDmG,EAAS,AAACjC,IA2Cd,QAASkC,GAAMnD,GACbA,EAAEoD,kBAEe,IAAbC,IACAvF,EAAQwF,QAEZC,EAAIC,KAAK,QAASxD,IAQpB,QAASyD,GAAUzD,IACA,IAAbqD,IACAvF,EAAQwF,QAEZtC,EAAOhB,EAAGlC,EAAQkD,SA3DpB,KAAMlD,GAAUa,OAAOuC,UAAWC,EAAUF,MAG5C,IAAImB,GAAOtE,EAAQO,OAASP,EAAQsE,IACpC,IAAIG,GAAMzE,EAAQwE,IAClB,IAAIe,GAAWvF,EAAQuF,WAAY,CAGnC,IAAInH,GAAUoF,EAAOxD,EAAQf,IAAKe,EAAQC,OAAS,IAAMD,EAAQE,MACjEH,GAAS3B,EAAS4B,EAGlBO,GAAMnC,EAASkG,EAAMtE,EACrBwE,GAAKpG,EAASqG,EAAKzE,EAGfA,GAAQV,WACVD,EAAOjB,EAAS4B,EAAQV,UAI1B,IAAImG,IACFjG,QAASpB,EACTiB,OAAQ,CAACC,EAAWC,KAClBF,EAAOjB,EAASkB,EAAWC,EAC3B,OAAOkG,IAETG,eAMF/E,QAAOuC,OAAOqC,EAAKI,EA6BnBzH,GAAQ0H,iBAAiB,QAAST,EAClCjH,GAAQ0H,iBAAiB,YAAaH,EAEtC,OAAOF,GCtFT,IAAIM,GAAW,UAKTC,GAMJpB,cAUE,MATKmB,KACHA,EAAWnE,MAGbA,KAAKqE,WAAarE,KAAKqE,eACvBrE,KAAKsE,UAAYtE,KAAKsE,cAEtBtE,KAAKuE,OAEEJ,EAGTnB,OACEhD,KAAKwE,UAAU,WAAY,AAACC,OA4C9BzB,SAAUsB,GAOR,MANAtE,MAAKqE,WAAWlB,KAAKmB,GAErBtE,KAAKsE,UAAUA,EAAU/F,MAAQyB,KAAKsE,UAAUA,EAAU/F,UAE1DyB,KAAKsE,UAAUA,EAAU/F,MAAM4E,KAAKmB,GAE7BtE,KASTgD,UAAW0B,EAAOhF,GAShB,MARAM,MAAK2E,QAAU3E,KAAK2E,YAGf3E,KAAK2E,QAAQC,eAAeF,KAC/B1E,KAAK2E,QAAQD,OAGf1E,KAAK2E,QAAQD,GAAOvB,KAAKzD,IAClB,EASTsD,YAAa0B,EAAOhF,GAGlB,GAFAM,KAAK2E,QAAU3E,KAAK2E,aAEf3E,KAAK2E,QAAQC,eAAeF,GAC/B,OAAO,CAGT,KAAK,GAAI3H,GAAI,EAAG8H,EAAM7E,KAAK2E,QAAQD,GAAO1H,OAAQD,EAAI8H,EAAK9H,IACzD,GAAIiD,KAAK2E,QAAQD,GAAO3H,KAAO2C,EAE7B,MADAM,MAAK2E,QAAQD,GAAOtB,OAAOrG,EAAG,IACvB,CAIX,QAAO,EAOTiG,UACEhD,KAAK2E,QAAU3E,KAAK2E,WAEpB,IAAIG,GAAOzB,MAAMnE,UAAUoE,MAAMlE,KAAKmE,WAClCmB,EAAQI,EAAKC,OAEjB,KAAK/E,KAAK2E,QAAQC,eAAeF,GAC/B,OAAO,CAGT,KAAK,GAAI3H,GAAI,EAAG8H,EAAM7E,KAAK2E,QAAQD,GAAO1H,OAAQD,EAAI8H,EAAK9H,IACzDiD,KAAK2E,QAAQD,GAAO3H,GAAG6C,UAAMJ,GAAWsF,EAE1C,QAAO,GAIM,GAAIV,EC3IrB9G,UAAS4G,iBAAiB,mBAAoB,WAClCV,GAASd,KAAM,QAASlE,KAAM,SAAUC,MAAO,YAAahB,OAAOH,SAASgF"}